<div class="buttons">
  <div class="length">
    {{itemsRenderer.itemCount | async}} results
  </div>
  <button mat-button [mat-menu-trigger-for]="rootMenu">
    <div class="options-menu-trigger"> Display Options </div>
  </button>
</div>

<mat-menu #rootMenu="matMenu">
  <button mat-menu-item *ngIf="!hideGrouping"
          [matMenuTriggerFor]="groupingMenu">Group
    By</button>
  <button mat-menu-item [matMenuTriggerFor]="sortingMenu">Sort By</button>
  <button mat-menu-item [matMenuTriggerFor]="viewingMenu">View</button>
</mat-menu>

<!-- Group Menu -->
<mat-menu #groupingMenu="matMenu">
  <button mat-menu-item *ngFor="let groupId of groupIds"
          [class.selected]="itemsRenderer.options.grouping == groupId"
          (click)="itemsRenderer.options.grouping = groupId; $event.stopPropagation();">
    <div class="button-content">
      <mat-icon>check</mat-icon>
      {{groups.get(groupId)}}
    </div>
  </button>
</mat-menu>

<!-- Sort Menu -->
<mat-menu #sortingMenu="matMenu">
  <button mat-menu-item *ngFor="let sort of sortIds"
          [class.selected]="itemsRenderer.options.sorting == sort"
          (click)="setSort(sort); $event.stopPropagation();">
    <div class="button-content">
      <mat-icon *ngIf="!itemsRenderer.options.reverseSort">
        arrow_upward
      </mat-icon>
      <mat-icon *ngIf="itemsRenderer.options.reverseSort">
        arrow_downward
      </mat-icon>
      {{sorts.get(sort)}}
    </div>
  </button>
</mat-menu>

<!-- View Menu -->
<mat-menu #viewingMenu="matMenu">
  <button mat-menu-item *ngFor="let viewKey of viewKeys"
          [class.selected]="!!itemsRenderer.options.view[viewKey]"
          (click)="toggleViewKey(viewKey); $event.stopPropagation();">
    <div class="button-content">
      <mat-icon>check</mat-icon>
      {{views.get(viewKey)}}
    </div>
  </button>
</mat-menu>
