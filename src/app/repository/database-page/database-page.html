<div class="title"> {{activatedRepository.repository | async}} </div>

<load-data #loadData></load-data>

<div class="description">
  <div class="type issues theme-border theme-background-card"
       *ngIf="(itemsDao.list | async)?.length; let count">
    <div class="type-title">
      {{(count)}} Issues

      <div class="actions">
        <update-button *ngIf="!(loadData.isLoading | async)"
                       [updateState]="issuesUpdateState | async"
                       (update)="updateIssues()">
        </update-button>
        <button mat-icon-button (click)="remover.removeData('items')">
          <mat-icon> delete </mat-icon>
        </button>
      </div>
    </div>
  </div>

  <div class="type issues theme-border theme-background-card"
       *ngIf="(labelsDao.list | async)?.length; let count">
    <div class="type-title">
      {{(count)}} Labels

      <div class="actions">
        <update-button *ngIf="!(loadData.isLoading | async)"
                       [updateState]="labelsUpdateState | async"
                       (update)="updateLabels()">
        </update-button>
        <button mat-icon-button (click)="remover.removeData('labels')">
          <mat-icon> delete </mat-icon>
        </button>
      </div>
    </div>

    <label-list [labelIds]="repoLabels | async"> </label-list>

  </div>
</div>

<button mat-button class="remove"
        *ngIf="!(daoState.isEmpty | async) && !(loadData.isLoading | async)"
        color="warn" (click)="remover.removeAllData()">
  Remove all locally stored data (includes dashboards, recommendations, and
  queries)
</button>
